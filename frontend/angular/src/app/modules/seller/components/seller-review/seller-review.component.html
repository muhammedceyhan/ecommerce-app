<button routerLink="/seller/store-management">ğŸ›’ MaÄŸazayÄ± YÃ¶net</button>

<h2>ğŸ›ï¸ ÃœrÃ¼n YorumlarÄ±</h2>

<div *ngFor="let product of products" class="product-review-box">
  <ng-container *ngIf="product.id as pid">
    <h3>{{ product.name }}</h3>

    <!-- Ortalama Puan -->
    <p *ngIf="productReviews[pid]">
      Ortalama Puan: {{ productReviews[pid].average.toFixed(1) }} / 5
    </p>

    <!-- YÄ±ldÄ±zlarla GÃ¶sterim -->
    <div class="stars" *ngIf="productReviews[pid]">
      <ng-container *ngFor="let s of [1,2,3,4,5]">
        <span [class.filled]="productReviews[pid].average >= s">â˜…</span>
      </ng-container>
    </div>

    <!-- KullanÄ±cÄ± YorumlarÄ± -->
    <div *ngIf="productReviews[pid] && productReviews[pid].reviews.length > 0">
      <div *ngFor="let review of productReviews[pid].reviews" class="review">
        <p><strong>Puan:</strong> {{ review.rating }} | {{ review.comment }}</p>
        <button (click)="deleteReview(pid, review.id!)">âŒ Yorumu Sil</button>
      </div>
    </div>

    <hr />
  </ng-container>
</div>
