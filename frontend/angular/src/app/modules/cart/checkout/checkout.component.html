<form (ngSubmit)="submitOrder()" #checkoutForm="ngForm" style="max-width: 500px; margin: auto;">
  <h2>ğŸ§¾ SipariÅŸ Tamamlama</h2>

  <!-- Stripe Kart AlanÄ± -->
  <div *ngIf="paymentMethod === 'Credit Card'">
    <label>Card Details:</label>
    <div id="card-element" style="padding: 10px; border: 1px solid gray; border-radius: 5px;"></div>
    <div id="card-errors" role="alert" style="color: red; margin-top: 5px;"></div>
    <p>Test Kart: 4242 4242 4242 4242</p>
  </div>

  <!-- ğŸ“¦ Adres SeÃ§imi -->
  <div class="section">
    <h3>ğŸšš KayÄ±tlÄ± Adres SeÃ§in</h3>
    <select [(ngModel)]="selectedAddressId" (change)="onAddressSelected()" name="selectedAddress">
      <option [ngValue]="null" disabled selected>-- Adres SeÃ§in --</option>
      <option *ngFor="let addr of addresses" [ngValue]="addr.id">
        {{ addr.title }} - {{ addr.street }}, {{ addr.city }}
      </option>
    </select>
    <button type="button" (click)="addingAddress = !addingAddress">+ Yeni Adres Ekle</button>
  </div>

  <!-- ğŸ†• Yeni Adres Formu -->
  <div *ngIf="addingAddress">
    <h3>Yeni Adres Bilgileri</h3>
    <input [(ngModel)]="newAddress.title" name="title" placeholder="Adres BaÅŸlÄ±ÄŸÄ±" required>
    <input [(ngModel)]="newAddress.street" name="street" placeholder="Sokak" required>
    <input [(ngModel)]="newAddress.city" name="city" placeholder="Åehir" required>
    <input [(ngModel)]="newAddress.postalCode" name="postalCode" placeholder="Posta Kodu" required>
    <input [(ngModel)]="newAddress.country" name="country" placeholder="Ãœlke" required>
    <label>
      <input type="checkbox" [(ngModel)]="newAddress.isDefault" name="isDefault">
      VarsayÄ±lan Adres
    </label>
    <button type="button" (click)="addAddress()">Ekle</button>
  </div>

  <!-- GÃ¶nderilecek adres -->
  <p>Shipping Address:</p>
  <textarea [(ngModel)]="shippingAddress" name="shippingAddress" required></textarea>

  <!-- Not -->
  <p>Note (optional):</p>
  <textarea [(ngModel)]="note" name="note"></textarea>

  <br>
  <button type="submit">Complete Order</button>
</form>